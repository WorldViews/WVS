{% macro show_provider_button(provider_id, display_name, conn) %}
    {% if conn %}
    <form action="{{ url_for('social.remove_connection', provider_id=conn.provider_id, provider_user_id=conn.provider_user_id) }}" method="DELETE">
      <input type="submit" value="Disconnect {{ display_name }}" />
    </form>
    {% else %}
    <form action="{{ url_for('social.connect', provider_id=provider_id) }}" method="POST">
      <input type="submit" value="Connect {{ display_name }}" />
    </form>
    {% endif %}
{% endmacro %}

{{ show_provider_button('twitter',  'Twitter', twitter_conn) }}
{{ show_provider_button('facebook', 'Facebook', facebook_conn) }}
{{ show_provider_button('google',   'Google', google_conn) }}
<div>
<a href="/notifications/clear">Clear Notification Requests</a>
<p>
<a href="/notifications/add">Add Notification Requests</a>
{% if notreqs %}
<h3>Notifications</h3>
{% endif %}
{% for req in notreqs %}
{{ req.pattern.eventType +" "+req.email }} <br>
{% endfor %}
<pre>
</pre>
<!--
<button>Add Notification Requests</button>
<p>
<button>Clear My Notification Requests</button>
-->
</div>

<!--  other providers have been removed  -->
